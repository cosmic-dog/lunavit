"use strict";gambio.widgets.module("zones_handler",["form","xhr"],function(e){var o=$(this),t=$("select#state.form-control"),n=$("input[name=selected_zone_id]"),s=$("select#state.form-control").closest("div.form-group"),a={loadStates:"shop.php?do=Zones",country:"select#country.form-control"},d=$.extend(!0,{},a,e),r={},i=function(){var e=jse.libs.form.getData(o);jse.libs.xhr.ajax({url:d.loadStates,data:e},!0).done(function(e){e.success?(t.children("option").remove(),n.prop("disabled",!1),t.prop("disabled",!1),$.each(e.data,function(e,o){o.selected?t.append($("<option selected/>").val(o.id).text(o.name)):t.append($("<option />").val(o.id).text(o.name))}),s.removeClass("hidden").show()):(s.hide(),n.prop("disabled",!0),t.prop("disabled",!0))})};return r.init=function(e){i(),o.on("change",d.country,i),e()},r});